{% extends 'contenido_base.html.twig' %}

{% block contenido_body %}
    <a href="{{ path('admin_entrada_new') }}" class="btn btn-sm btn-primary pull-right">
        Agregar Entrada <span class="fa fa-plus-circle"></span>
    </a>
    <a href="{{ path('admin_entrada_publicadas') }}" class="btn btn-sm btn-primary pull-right">
        Ver Publicados <span class="fa fa-eye"></span>
    </a>
    <h4>
        Todas las entradas

    </h4>

    <table class="table">
        <thead>
            <tr>
                <th>Titulo</th>
                <th>Linkroute</th>
                <th>Autor</th>
                <th>Creado</th>
                <th>Publicado?</th>
                <th>Imagen</th>
                <th>&nbsp;</th>
            </tr>
        </thead>
        <tbody>
            {% for entrada in entradas %}
                <tr>
                    <td>
                        {{ entrada.titulo }}<br/>
                        {{ entrada.likes }}
                    </td>
                    <td>{{ entrada.linkRoute }}</td>
                    <td>
                        {{ entrada.autor }} --
                        {{ entrada.autor.email }}
                    </td>
                    <td>
                        {% if entrada.creadaAt  %}
                            {{ entrada.creadaAt ? entrada.creadaAt | ago : 'No fue creada' }}
                        {% endif %}
                    </td>
                    <td>
                        <span class="fa fa-{{ entrada.publicadoAt ? 'check' : 'times' }}"></span>

                            {{ entrada.publicadoAt ? entrada.publicadoAt | ago : 'No publicada' }}

                    </td>
                    <td>
                        <img class="article-img" src="{{ entrada.imagePath|imagine_filter('squared_thumbnail_small')}}">
                        {{ entrada.imageFilename }}
                    </td>
                    <td>
                        <a href="{{ path('admin_entrada_edit', {'id': entrada.id}) }}">
                            <i class="fi fi-page-edit"></i> Editar
                        </a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
